<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="_layout">

<body>

	<div layout:fragment="content">
		<section class="wrapper">
			<div class="row">
				<div class="col-lg-12">
					<h3 class="page-header"><i class="fa fa-bars"></i> Themes des archives</h3>
					<ol class="breadcrumb">
						<li><i class="fa fa-home"></i><a href="/archives">Accueil Archives</a></li>
						<li><i class="fa fa-bars"></i><a href="/archives/archives">Liste des archives</a></li>
						<li><i class="fa fa-square-o"></i>Themes des archives</li>
					</ol>
				</div>
			</div>
			<div class="container">
				<section class="panel border-top">
					<div class="panel-heading" style="padding: 4px">
						<form class="form-inline" role="form" th:action="@{/archives/archiveThemes}" method="post">
							<div class="form-group">
								<label for="txtId" class="sr-only">Id</label>
								<input type="text" id="txtId" name="id" size="5" readonly class="form-control">
							</div>
							<div class="form-group">
								<label for="txtDescription" class="sr-only">Description</label>
								<input type="text" id="txtDescription" size="20" name="description" class="form-control"
									style="word-wrap: break-word;">
							</div>
							<div class="form-group">
								<label for="txtDetails" class="sr-only">Détails</label>
								<input type="text" id="txtDetails" size="80" name="details" class="form-control"
									style="word-wrap: break-word;">
							</div>
							<div class="form-group">
								<button type="submit" class="btn btn-primary">Enregistrer</button>
								<button type="reset" class="btn btn-warning">Annuler</button>
							</div>
						</form>

					</div>
					<div class="panel-body">
						<table class="table table-striped table-advance table-hover">
							<tbody>
								<tr>
									<th></th>
									<th><i class="fa fa-caret-right"></i>Description</th>
									<th><i class="fa fa-caret-right"></i>Details</th>
									<th><i class="icon_cogs"></i> Action</th>
								</tr>
								<tr th:each="archiveTheme:${archiveThemes}">
									<td><i class="fa fa-arrow-right"></i></td>
									<td>
										<textarea readonly style="width: 100%; word-wrap: break-word;" rows="4"
											cols="50" th:text="${archiveTheme.description}"></textarea>
									</td>
									<td>
										<textarea readonly style="width: 100%;word-wrap: break-word;" rows="4" cols="50"
											th:text="${archiveTheme.details}"></textarea>
									</td>
									<td>
										<div class="btn-group">
											<a id="display"
												th:href="@{'/archives/archiveTheme/' + ${archiveTheme.id}}"
												class="btn btn-primary"><i class="icon_plus_alt2"></i></a>
											<a class="btn btn-danger"
												onclick="return confirm('Are you sure you want to delete?')"
												th:href="@{'/archives/archiveTheme/delete/' + ${archiveTheme.id}}">
												<i class="icon_close_alt2"></i></a>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="panel-footer" style="padding: 10px">
						Nombre d'enregistrements dans la table' <span
							th:text="${#lists.size(archiveThemes)}"></span>
					</div>
				</section>
			</div>
		</section>
	</div>



	<!-- Ajoutez ceci à l'endroit où vous souhaitez afficher la modale -->
	<div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="errorModalLabel">Erreur</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<!-- Ajoutez l'ID "errorMessage" ici -->
					<p th:id="errorMessage" th:text="${errorMessage}"></p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
				</div>
			</div>
		</div>
	</div>

	<th:block layout:fragment="script">
		<script language="JavaScript">
			$('document').ready(function () {
				$('.table #display').on('click', function (event) {
					event.preventDefault();
					var href = $(this).attr('href');
					$.get(href, function (archiveTheme, theme) {
						$('#txtId').val(archiveTheme.id);
						$('#txtDescription').val(archiveTheme.description);
						$('#txtDetails').val(archiveTheme.details);
					})
				})
			})
		</script>
	</th:block>

</body>

</html>